/*! cornerstoneWebImageLoader - v0.6.0 - 2016-02-09 | (c) 2015 Chris Hafey | https://github.com/chafey/cornerstoneWebImageLoader */
cornerstoneWebImageLoader={},function(a,b,c){"use strict";function d(a,c){function d(){for(var b=e(),c=b.data,d=a.naturalHeight*a.naturalWidth,f=new Uint8Array(4*d),g=0,h=0,i=0;d>i;i++)f[h++]=c[g++],f[h++]=c[g++],f[h++]=c[g++],f[h++]=255,g++;return f}function e(){var b;return h!==c?(g.height=a.naturalHeight,g.width=a.naturalWidth,b=g.getContext("2d"),b.drawImage(a,0,0),h=c):b=g.getContext("2d"),b.getImageData(0,0,a.naturalWidth,a.naturalHeight)}function f(){if(h===c)return g;g.height=a.naturalHeight,g.width=a.naturalWidth;var b=g.getContext("2d");return b.drawImage(a,0,0),h=c,g}function i(){return a}var j=a.naturalHeight,k=a.naturalWidth;return{imageId:c,minPixelValue:0,maxPixelValue:255,slope:1,intercept:0,windowCenter:128,windowWidth:255,render:b.renderColorImage,getPixelData:d,getImageData:e,getCanvas:f,getImage:i,rows:j,columns:k,height:j,width:k,color:!0,columnPixelSpacing:void 0,rowPixelSpacing:void 0,invert:!1,sizeInBytes:j*k*4}}function e(c){var e=a.Deferred(),f=new Image,g=new XMLHttpRequest;return g.open("GET",c,!0),g.responseType="arraybuffer",i.beforeSend(g),g.onload=function(){var a=new Uint8Array(this.response),b=new Blob([a],{type:"image/jpeg"}),g=window.URL||window.webkitURL,h=g.createObjectURL(b);f.src=h,f.onload=function(){var a=d(f,c);e.resolve(a),g.revokeObjectURL(h)},f.onerror=function(){g.revokeObjectURL(h),e.reject()}},g.onprogress=function(d){if(d.lengthComputable){var e=d.loaded,f=d.total,g=Math.round(e/f*100);a(b).trigger("CornerstoneImageLoadProgress",{imageId:c,loaded:e,total:f,percentComplete:g})}},g.send(),e.promise()}function f(a){i=a}var g=document.createElement("canvas"),h="",i={beforeSend:function(a){}};return b.registerImageLoader("http",e),b.registerImageLoader("https",e),c.configure=f,b}($,cornerstone,cornerstoneWebImageLoader);