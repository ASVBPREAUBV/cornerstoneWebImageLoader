/*! cornerstoneWebImageLoader - v0.1.0 - 2014-04-16 | (c) 2014 Chris Hafey | https://github.com/chafey/cornerstoneWebImageLoader */
!function(a,b){"use strict";function c(a){f.height=a.naturalHeight,f.width=a.naturalWidth;var b=f.getContext("2d");b.drawImage(a,0,0);for(var c=b.getImageData(0,0,a.naturalWidth,a.naturalHeight),d=c.data,e=a.naturalHeight*a.naturalWidth,g=new Uint8Array(3*e),h=0,i=0,j=0;e>j;j++)g[i++]=d[h++],g[i++]=d[h++],g[i++]=d[h++],h++;return g}function d(a,b){var d=a.naturalHeight,e=a.naturalWidth,f={imageId:b,minPixelValue:0,maxPixelValue:255,slope:1,intercept:0,windowCenter:127,windowWidth:256,storedPixelData:c(a),rows:d,columns:e,height:d,width:e,color:!0,columnPixelSpacing:1,rowPixelSpacing:1,invert:!1};return f}function e(b){var c=a.Deferred(),e=new Image;return e.crossOrigin="anonymous",e.onload=function(){var a=d(e,b);c.resolve(a)},e.onerror=function(){c.reject()},e.src=b,c}var f=document.createElement("canvas");return b.registerImageLoader("http",e),b.registerImageLoader("https",e),b}($,cornerstone);